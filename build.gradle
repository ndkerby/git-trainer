apply plugin: 'java'
apply plugin: 'war'

version = '1.0'

repositories {
    mavenLocal()
    mavenCentral()
}

subprojects {
    apply plugin: 'java'

    repositories {
        maven {
            url "https://repo.spring.io/libs-release"
        }
        mavenCentral()
    }

    ext {
        springVersion = "4.1.0.RELEASE"
        slf4jVersion = "1.7.7"

        springCompile = { module ->
            compile("org.springframework:$module:$springVersion") {
                exclude group: "commons-logging"
            }
            compile "org.slf4j:jcl-over-slf4j:$slf4jVersion"
        }
        springCompile.delegate = project.dependencies
    }

    dependencies {
        testCompile(
            "org.springframework:spring-test:$springVersion",
            "junit:junit:4.11",
            "org.hamcrest:hamcrest-library:1.3",
            "org.mockito:mockito-core:1.9.5",
        )

        testRuntime(
            "ch.qos.logback:logback-classic:1.1.2",
        )
    }
}

defaultTasks 'clean', 'test', 'build', 'war'